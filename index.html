<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minha Estante Virtual</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    <div class="app-layout">
        <aside class="sidebar">
            <header class="sidebar-header">
                <h2>Estante</h2>
            </header>
            <nav class="sidebar-nav">
                <a href="#" class="nav-link active" data-view="view-estante">üìö Estante</a>
                <a href="#" class="nav-link" data-view="view-adicionar">‚ûï Adicionar Livro</a>
                <a href="#" class="nav-link" data-view="view-desafio">üèÜ Metas de Leitura</a>
                <a href="#" class="nav-link" data-view="view-dashboard">üìä Dashboard</a>
            </nav>
            <div id="auth-container" class="sidebar-footer"></div>
        </aside>

        <main class="main-content">

            <div id="view-estante" class="view active">
                <h1>Minha Estante</h1>
                <div class="controles-estante">
                    <input type="search" id="input-busca" placeholder="Buscar por t√≠tulo ou autor...">
                    <div class="grupo-filtros">
                        <span>Filtrar por:</span>
                        <button class="filtro-status active" data-status="Todos">Todos</button>
                        <button class="filtro-status" data-status="Lido">Lidos</button>
                        <button class="filtro-status" data-status="Lendo">Lendo</button>
                        <button class="filtro-status" data-status="Quero Ler">Quero Ler</button>
                    </div>
                    <div class="grupo-ordenacao">
                        <label for="select-ordenacao">Ordenar por:</label>
                        <select id="select-ordenacao">
                            <option value="data-adicao-desc">Mais Recentes (Adi√ß√£o)</option>
                            <option value="nota-desc">Melhor Nota</option>
                            <option value="titulo-asc">T√≠tulo (A-Z)</option>
                            <option value="autor-asc">Autor (A-Z)</option>
                        </select>
                    </div>
                </div>
                <div class="info-resultados">
                    <p id="contador-resultados"></p>
                </div>
                <div id="estante-de-livros" class="estante-de-livros"></div>
                <div class="controles-paginacao" id="controles-paginacao">
                    <div class="grupo-paginacao-tamanho">
                        <label for="select-tamanho-pagina">Mostrar por p√°gina:</label>
                        <select id="select-tamanho-pagina">
                            <option value="30" selected>30 livros</option>
                            <option value="60">60 livros</option>
                            <option value="90">90 livros</option>
                            <option value="9999">Todos</option>
                        </select>
                    </div>
                    <div class="grupo-paginacao-links" id="links-paginacao"></div>
                </div>
            </div>

            <div id="view-adicionar" class="view">
                <h1>Adicionar Novo Livro</h1>
                <div id="busca-api-container">
                    <div class="form-grid" style="grid-template-columns: 1fr 1fr auto; align-items: flex-end; gap: 1rem;">
                        <div class="form-campo">
                            <label for="input-busca-api-titulo">T√≠tulo do Livro:</label>
                            <input type="search" id="input-busca-api-titulo" placeholder="Ex: O Nome do Vento">
                        </div>
                        <div class="form-campo">
                            <label for="input-busca-api-autor">Autor:</label>
                            <input type="search" id="input-busca-api-autor" placeholder="Ex: Patrick Rothfuss">
                        </div>
                        <button id="btn-busca-api" class="btn btn-primario" style="height: 40px; white-space: nowrap;">Buscar na Internet</button>
                    </div>
                    <div class="opcoes-busca-api">
                        <span>Fonte:</span>
                        <input type="radio" id="api-google" name="api-source" value="google" checked>
                        <label for="api-google">Google Books</label>
                        <input type="radio" id="api-open" name="api-source" value="open">
                        <label for="api-open">Open Library</label>
                        <input type="radio" id="api-ambos" name="api-source" value="ambos">
                        <label for="api-ambos">Ambos (Fallback)</label>
                    </div>
                </div>
                <div id="adicionar-manual-container" class="hidden">
                    <p>N√£o encontrou o que procurava? <button id="btn-adicionar-manual" class="btn btn-secundario">Cadastrar Manualmente</button></p>
                </div>
                <div id="busca-api-paginacao" class="hidden">
                    <button id="btn-busca-anterior" class="btn btn-secundario">Anterior</button>
                    <span id="busca-api-info-pagina"></span>
                    <button id="btn-busca-proxima" class="btn btn-primario">Pr√≥xima</button>
                </div>
                <div id="resultados-busca-api"></div>
                <div id="painel-sincronizacao" class="hidden">
                    <h3>Atualizar Dados do Livro</h3>
                    <p>Clique nos campos que deseja atualizar com as informa√ß√µes encontradas na internet.</p>
                    <div id="sinc-container"></div>
                    <button id="btn-fechar-sinc" class="btn btn-secundario">Fechar Sincroniza√ß√£o</button>
                </div>
                <div id="form-container" class="hidden">
                    <hr class="separador-form">
                    <h2 id="form-livro-titulo">Complete os dados e salve</h2>
                    <form id="form-livro">
                        <input type="hidden" id="livro-id">
                        <div class="form-grid">
                            <div class="form-campo"><label for="nomeDoLivro">T√≠tulo:</label><input type="text" id="nomeDoLivro" required></div>
                            <div class="form-campo"><label for="autor">Autor:</label><input type="text" id="autor" required></div>
                            <div class="form-campo"><label for="dataAquisicao">Data de Aquisi√ß√£o:</label><input type="date" id="dataAquisicao"></div>
                            <div class="form-campo"><label for="anoLancamento">Ano de Lan√ßamento:</label><input type="number" id="anoLancamento" placeholder="Ex: 2007"></div>
                            <div class="form-campo"><label for="editora">Editora:</label><input type="text" id="editora"></div>
                            <div class="form-campo"><label for="colecao">Cole√ß√£o:</label><input type="text" id="colecao"></div>
                            <div class="form-campo"><label for="volume">Volume:</label><input type="number" id="volume"></div>
                            <div class="form-campo"><label for="paginas">P√°ginas:</label><input type="number" id="paginas"></div>
                            <div class="form-campo"><label for="lingua">L√≠ngua:</label><input type="text" id="lingua" placeholder="Ex: PT-BR"></div>
                            <div class="form-campo"><label for="urlCapa">URL da Capa:</label><input type="url" id="urlCapa" placeholder="https://exemplo.com/capa.jpg"></div>
                            <div class="form-campo"><label for="categorias">Categorias/G√™neros:</label><input type="text" id="categorias" placeholder="Ex: Fantasia, Aventura"></div>
                            <div class="form-campo full-width"><label for="descricao">Descri√ß√£o/Sinopse:</label><textarea id="descricao" rows="6"></textarea></div>
                        </div>
                        <div class="form-botoes"><button type="submit" class="btn btn-primario">Salvar Livro na Estante</button></div>
                    </form>
                </div>
            </div>

            <div id="view-desafio" class="view">
                <h1>Minhas Metas de Leitura</h1>
                <div class="gerenciar-metas-container">
                    <div class="campo-selecionar-meta">
                        <label for="select-meta-ativa">Selecione uma Meta Ativa:</label>
                        <select id="select-meta-ativa"></select>
                        <button id="btn-deletar-meta-ativa" class="btn btn-perigo">Deletar Meta</button>
                    </div>
                </div>
                <div class="criar-meta-container dash-card">
                    <h3>Criar Nova Meta</h3>
                    <form id="form-criar-meta" class="form-grid" style="grid-template-columns: 2fr 1fr 1.5fr 1fr; align-items: flex-end;">
                        <div class="form-campo">
                            <label for="input-meta-nome">Nome da Meta:</label>
                            <input type="text" id="input-meta-nome" placeholder="Ex: Fim de Ano 2025" required>
                        </div>
                        <div class="form-campo">
                            <label for="select-meta-ano">Ano:</label>
                            <select id="select-meta-ano"></select>
                        </div>
                        <div class="form-campo">
                            <label for="select-meta-tipo">Tipo de Meta:</label>
                            <select id="select-meta-tipo">
                                <option value="livros">N¬∫ de Livros (Autom√°tico)</option>
                                <option value="paginas">N¬∫ de P√°ginas (Autom√°tico)</option>
                                <option value="lista">Lista de Livros (Manual)</option>
                            </select>
                        </div>
                        <div class="form-campo" id="campo-objetivo-container">
                            <label for="input-meta-objetivo">Objetivo:</label>
                            <input type="number" id="input-meta-objetivo" placeholder="Ex: 8" required>
                        </div>
                        <div class="form-botoes">
                            <button type="submit" id="btn-criar-nova-meta" class="btn btn-primario">Criar Nova Meta</button>
                        </div>
                    </form>
                </div>
                <div id="desafio-ativo-container" class="hidden">
                    <h2 id="meta-ativa-titulo" style="margin-top: 2rem;"></h2>
                    <div id="gerenciar-lista-container" class="hidden" style="margin-top: 1.5rem;">
                        <div class="desafio-meta">
                            <label for="input-busca-livros-meta">Adicionar/Remover livros da sua estante:</label>
                            <input type="search" id="input-busca-livros-meta" placeholder="Buscar por t√≠tulo ou autor...">
                            <div class="grupo-filtros" style="justify-content: flex-start; margin-bottom: 10px;">
                                <button class="filtro-status-meta active" data-status="Todos">Todos</button>
                                <button class="filtro-status-meta" data-status="NaoLidos">N√£o Lidos</button>
                            </div>
                            <div id="seletor-livros-meta" class="estante-de-livros selecionavel"></div>
                            <div class="controles-paginacao" id="paginacao-seletor-meta">
                                <button id="btn-meta-anterior" class="btn btn-secundario">Anterior</button>
                                <span id="info-pagina-meta"></span>
                                <button id="btn-meta-proxima" class="btn btn-primario">Pr√≥xima</button>
                            </div>
                        </div>
                    </div>
                    <div class="desafio-progresso">
                        <p id="progresso-texto">0 de 0 conclu√≠dos</p>
                        <progress id="progresso-barra" value="0" max="100"></progress>
                    </div>
                    <h3 style="margin-top: 1.5rem;">Livros da Meta:</h3>
                    <div id="desafio-livros-da-meta" class="estante-de-livros"></div>
                </div>
                <div id="nenhuma-meta-selecionada" class="active">
                    <h2>Nenhuma meta selecionada</h2>
                    <p>Crie uma nova meta ou selecione uma existente para come√ßar.</p>
                </div>
            </div>

            <div id="view-dashboard" class="view">
                <h1>Dashboard de Leitura</h1>
                <div class="controles-dashboard">
                    <div class="grupo-filtros" id="filtro-ano-container">
                        <label for="select-ano-dashboard">Analisar Ano:</label>
                        <select id="select-ano-dashboard"></select>
                    </div>
                </div>
                <div class="dashboard-tabs">
                    <button class="tab-button active" data-tab="dashboard-ano">Resumo do Ano</button>
                    <button class="tab-button" data-tab="dashboard-historico">An√°lise Hist√≥rica</button>
                </div>
                <div id="dashboard-ano" class="dashboard-content active">
                    <div class="dashboard-layout-ano">
                        <main class="dashboard-main-content">
                            <div class="dashboard-kpi-principais">
                                <div id="kpi-total-livros" class="dash-card"></div>
                                <div id="kpi-total-paginas" class="dash-card"></div>
                                <div id="kpi-nota-media" class="dash-card"></div>
                            </div>
                            <div id="lista-livros-ano" class="tabela-card dash-card">
                                <h3>Livros Lidos no Ano Selecionado</h3>
                                <div class="tabela-container full-height">
                                    <table id="tabela-livros-ano"></table>
                                </div>
                            </div>
                        </main>
                        <aside class="dashboard-sidebar">
                            <h3>Destaques do Ano</h3>
                            <div id="kpi-melhor-livro" class="dash-card destaque"></div>
                            <div id="kpi-pior-livro" class="dash-card destaque"></div>
                            <div id="kpi-autor-mais-lido" class="dash-card"></div>
                            <div id="kpi-leitura-rapida" class="dash-card destaque"></div>
                            <div id="kpi-leitura-lenta" class="dash-card destaque"></div>
                            <div id="kpi-mes-produtivo" class="dash-card"></div>
                            <div id="kpi-variedade-autores" class="dash-card"></div>
                            <div id="kpi-media-paginas" class="dash-card"></div>
                            <div id="kpi-velocidade-media" class="dash-card"></div>
                        </aside>
                    </div>
                </div>
                <div id="dashboard-historico" class="dashboard-content">
                    <div class="dashboard-grid-geral">
                        <div id="resumo-por-ano" class="tabela-card dash-card">
                            <h3>Resumo por Ano</h3>
                            <div class="grafico-container">
                                <canvas id="grafico-resumo-anual"></canvas>
                            </div>
                        </div>
                        <div id="ranking-generos" class="tabela-card dash-card">
                            <h3>An√°lise por G√™nero</h3>
                            <div class="grafico-container">
                                <canvas id="grafico-generos"></canvas>
                            </div>
                        </div>
                        <div id="melhores-autores" class="tabela-card dash-card">
                            <h3>Melhores Autores (>= 3 livros)</h3>
                            <div class="tabela-container">
                                <table id="tabela-melhores-autores"></table>
                            </div>
                        </div>
                        <div id="melhores-colecoes" class="tabela-card dash-card">
                            <h3>Melhores Cole√ß√µes (>= 3 livros)</h3>
                            <div class="tabela-container">
                                <table id="tabela-melhores-colecoes"></table>
                            </div>
                        </div>
                        <div id="melhores-editoras" class="tabela-card dash-card">
                            <h3>Melhores Editoras (>= 3 livros)</h3>
                            <div class="tabela-container">
                                <table id="tabela-melhores-editoras"></table>
                            </div>
                        </div>
                        <div id="prateleira-vergonha" class="tabela-card dash-card">
                            <h3>Prateleira da Vergonha (N√£o Lidos)</h3>
                            <div class="tabela-container">
                                <table id="tabela-vergonha"></table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        <div class="dashboard-layout-ano">
            <!-- Coluna Principal com Gr√°ficos e KPIs -->
            <main class="dashboard-main-content">
                <!-- KPIs -->
                <div id="financeiro-resumo-kpis" class="dashboard-kpi-principais">
                    <div id="kpi-receitas" class="dash-card"><h4>Receitas do M√™s</h4><p class="valor-kpi">R$ 0,00</p></div>
                    <div id="kpi-despesas" class="dash-card"><h4>Despesas do M√™s</h4><p class="valor-kpi">R$ 0,00</p></div>
                    <div id="kpi-saldo" class="dash-card"><h4>Saldo Final</h4><p class="valor-kpi">R$ 0,00</p></div>
                </div>

                <!-- Gr√°fico de Tend√™ncia -->
                <div class="tabela-card dash-card">
                    <h3>Tend√™ncia Mensal (√öltimos 6 Meses)</h3>
                    <div class="grafico-container-grande">
                        <canvas id="canvas-tendencia-mensal"></canvas>
                    </div>
                </div>

                <!-- Subgrid para Gr√°fico de Pizza e Maiores Despesas -->
                <div class="financeiro-subgrid">
                    <div id="grafico-gastos-categoria" class="tabela-card dash-card">
                        <h3>Gastos por Categoria</h3>
                        <div class="grafico-container">
                            <canvas id="canvas-gastos-categoria"></canvas>
                        </div>
                    </div>
                    <div id="maiores-despesas-container" class="tabela-card dash-card">
                        <h3>Maiores Despesas do M√™s</h3>
                        <ul id="lista-maiores-despesas">
                            <!-- Itens ser√£o preenchidos pelo JS -->
                        </ul>
                    </div>
                </div>
            </main>

            <!-- Sidebar com Contas Fixas -->
            <aside class="dashboard-sidebar">
                <h3>Contas Fixas do M√™s</h3>
                <div id="lista-contas-fixas" class="lista-checklist"></div>
                <button id="btn-gerenciar-contas-fixas" class="btn btn-secundario" style="width: 100%;">
                    <i class="fa-solid fa-gear"></i> Gerenciar Contas
                </button>
            </aside>
        </div>
    </div>

    <!-- ETAPA 2: Tela de Categoriza√ß√£o de Extrato (inicialmente oculta) -->
    <div id="financeiro-categorizacao-step" class="hidden">
        <h1>Passo 2: Categorize suas Transa√ß√µes</h1>
        <div class="tabela-card dash-card">
            <h3>Transa√ß√µes Importadas do Extrato</h3>
            <p style="padding: 0 1.5rem 1rem;">Ajuste a categoria e o m√©todo de cada transa√ß√£o importada.</p>
            <div class="tabela-container full-height">
                <table id="tabela-categorizacao">
                    <thead>
                        <tr>
                            <th>Data</th>
                            <th>Descri√ß√£o</th>
                            <th style="width: 150px;">Valor</th>
                            <th style="width: 200px;">Conta/M√©todo</th>
                            <th style="width: 200px;">Categoria</th>
                            <th style="width: 100px;">A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="tbody-categorizacao"></tbody>
                </table>
            </div>
        </div>
        <div class="form-botoes" style="margin-top: 1.5rem;">
             <button id="btn-cancelar-importacao" class="btn btn-secundario">Cancelar</button>
             <button id="btn-salvar-extrato-firebase" class="btn btn-primario">Salvar Transa√ß√µes</button>
        </div>
    </div>

    <!-- ETAPA 3: Tela de Detalhes da Fatura (inicialmente oculta) -->
    <div id="financeiro-fatura-step" class="hidden">
        <h1>Passo 2: Detalhe sua Fatura</h1>
        <div class="tabela-card dash-card">
            <h3>Itens da Fatura Importada</h3>
            <p style="padding: 0 1.5rem 1rem;">Associe esta fatura a um pagamento de "Contas Fixas" para evitar duplicidade.</p>
            <div class="form-campo" style="padding: 0 1.5rem 1.5rem;">
                <label for="select-associar-fatura">Associar a qual conta fixa?</label>
                <select id="select-associar-fatura"></select>
            </div>
            <div class="tabela-container full-height">
                <table id="tabela-fatura">
                    <thead>
                        <tr>
                            <th>Data</th>
                            <th>Descri√ß√£o</th>
                            <th style="width: 150px;">Valor</th>
                            <th style="width: 100px;">A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="tbody-fatura"></tbody>
                </table>
            </div>
        </div>
         <div class="form-botoes" style="margin-top: 1.5rem;">
             <button id="btn-cancelar-fatura" class="btn btn-secundario">Cancelar</button>
             <button id="btn-salvar-fatura-firebase" class="btn btn-primario">Salvar Detalhes da Fatura</button>
        </div>
    </div>
</div>
        </main>
    </div>

    <dialog id="painel-livro">
        <div class="painel-container">
            <header class="painel-header">
                <h2 id="painel-titulo">T√≠tulo do Livro</h2>
                <button id="btn-fechar-painel" class="btn-acao">‚úñ</button>
            </header>
            <footer class="painel-footer">
                <button id="painel-btn-salvar" class="btn btn-primario">Salvar Altera√ß√µes</button>
            </footer>
            <div class="painel-body">
                <div class="painel-coluna-capa">
                    <img id="painel-capa" src="placeholder.jpg" alt="Capa do livro">
                    <div class="painel-botoes-principais">
                        <button id="painel-btn-editar" class="btn btn-secundario">Editar Cadastro</button>
                        <button id="painel-btn-excluir" class="btn btn-perigo">Excluir Livro</button>
                    </div>
                </div>
                <div class="painel-coluna-info">
                    <nav class="painel-tabs">
                        <button class="tab-button active" data-tab="tab-leitura">Minha Leitura</button>
                        <button class="tab-button" data-tab="tab-notas">Minhas Notas</button>
                        <button class="tab-button" data-tab="tab-detalhes">Detalhes</button>
                    </nav>
                    <div class="painel-conteudo-tabs">
                        <div id="tab-leitura" class="tab-content active">
                            <div class="leitura-header">
                                <h3>Meu Hist√≥rico de Leitura</h3>
                                <button id="painel-btn-nova-leitura" class="btn btn-secundario">‚ñ∂Ô∏è Iniciar Nova Leitura</button>
                            </div>
                            <div id="leituras-container"></div>
                            <div id="form-leitura-container" class="hidden"></div>
                        </div>
                        <div id="tab-notas" class="tab-content">
                            <h3>Minhas Avalia√ß√µes da Leitura Atual</h3>
                            <div id="aviso-nota-bloqueada" class="aviso">
                                <p>As notas s√≥ podem ser adicionadas ou editadas ap√≥s a data de fim da leitura ser preenchida na aba "Minha Leitura".</p>
                            </div>
                            <form id="form-notas" class="painel-form hidden">
                                <div class="notas-grid">
                                    <div class="slider-campo"><label>Personagens: <span id="valor-nota-personagens">5.0</span></label><small>Qu√£o cr√≠veis, complexos e bem desenvolvidos s√£o os personagens? Voc√™ se conectou com eles?</small><input type="range" id="nota-personagens" min="0" max="10" step="0.1" value="5"></div>
                                    <div class="slider-campo"><label>Trama (Plot): <span id="valor-nota-plot">5.0</span></label><small>A estrutura da hist√≥ria √© coesa? O enredo √© original, envolvente e com conflitos bem definidos?</small><input type="range" id="nota-plot" min="0" max="10" step="0.1" value="5"></div>
                                    <div class="slider-campo"><label>Constru√ß√£o de Mundo: <span id="valor-nota-desenvolvimento">5.0</span></label><small>O universo da hist√≥ria √© imersivo e bem detalhado? Suas regras e cultura s√£o consistentes?</small><input type="range" id="nota-desenvolvimento" min="0" max="10" step="0.1" value="5"></div>
                                    <div class="slider-campo"><label>Ritmo (Pacing): <span id="valor-nota-pacing">5.0</span></label><small>A hist√≥ria flui bem? O ritmo acelera e desacelera nos momentos certos para criar tens√£o ou respiro?</small><input type="range" id="nota-pacing" min="0" max="10" step="0.1" value="5"></div>
                                    <div class="slider-campo"><label>Estilo de Escrita (Prosa): <span id="valor-nota-prosa">5.0</span></label><small>A qualidade da escrita √© alta? O texto √© claro, evocativo e agrad√°vel de ler?</small><input type="range" id="nota-prosa" min="0" max="10" step="0.1" value="5"></div>
                                    <div class="slider-campo"><label>Originalidade: <span id="valor-nota-originalidade">5.0</span></label><small>A premissa ou a execu√ß√£o da hist√≥ria trouxeram conceitos novos ou abordagens criativas?</small><input type="range" id="nota-originalidade" min="0" max="10" step="0.1" value="5"></div>
                                    <div class="slider-campo"><label>Temas e Profundidade: <span id="valor-nota-temas">5.0</span></label><small>Os temas abordados s√£o relevantes e explorados com a profundidade que merecem?</small><input type="range" id="nota-temas" min="0" max="10" step="0.1" value="5"></div>
                                    <div class="slider-campo"><label>Impacto Emocional: <span id="valor-nota-impacto">5.0</span></label><small>O livro provocou emo√ß√µes fortes em voc√™ (alegria, surpresa, tristeza, reflex√£o)?</small><input type="range" id="nota-impacto" min="0" max="10" step="0.1" value="5"></div>
                                    <div class="slider-campo"><label>Conclus√£o (Closing): <span id="valor-nota-closing">5.0</span></label><small>O final resolve os conflitos de forma satisfat√≥ria e √© coerente com o resto da hist√≥ria?</small><input type="range" id="nota-closing" min="0" max="10" step="0.1" value="5"></div>
                                    <div class="slider-campo"><label>Fator Releitura/Recomenda√ß√£o: <span id="valor-nota-releitura">5.0</span></label><small>Voc√™ sentiria vontade de reler este livro no futuro ou o recomendaria com entusiasmo para algu√©m?</small><input type="range" id="nota-releitura" min="0" max="10" step="0.1" value="5"></div>
                                </div>
                                <div class="nota-final-display">Nota Final Calculada: <strong id="nota-final-calculada">5.0</strong></div>
                            </form>
                        </div>
                        <div id="tab-detalhes" class="tab-content">
                            <h3>Detalhes do Livro</h3>
                            <div id="info-detalhes" class="detalhes-grid">
                                <p><strong>Autor:</strong> <span id="detalhe-autor"></span></p>
                                <p><strong>Editora:</strong> <span id="detalhe-editora"></span></p>
                                <p><strong>Ano:</strong> <span id="detalhe-ano"></span></p>
                                <p><strong>P√°ginas:</strong> <span id="detalhe-paginas"></span></p>
                                <p><strong>Idioma:</strong> <span id="detalhe-lingua"></span></p>
                                <p><strong>Cole√ß√£o:</strong> <span id="detalhe-colecao"></span></p>
                                <p><strong>Volume:</strong> <span id="detalhe-volume"></span></p>
                                <p><strong>Categorias:</strong> <span id="detalhe-categorias"></span></p>
                                <p class="detalhe-sinopse"><strong>Sinopse:</strong> <span id="detalhe-descricao"></span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </dialog>

    <dialog id="modal-importacao">
        <div class="painel-container" style="height: auto; max-height: 90vh;">
            <header class="painel-header">
                <h2>Importar Dados</h2>
                <button id="btn-fechar-modal-importar" class="btn-acao">‚úñ</button>
            </header>
            <div class="painel-conteudo-tabs">
                <div class="form-campo" style="margin-bottom: 1.5rem;">
                    <label>Qual tipo de dado voc√™ quer importar?</label>
                    <div style="display: flex; gap: 1rem; margin-top: 0.5rem;">
                        <input type="radio" id="tipo-extrato" name="tipo-importacao" value="extrato" checked>
                        <label for="tipo-extrato">Extrato de Conta</label>
                        <input type="radio" id="tipo-fatura" name="tipo-importacao" value="fatura">
                        <label for="tipo-fatura">Fatura de Cart√£o</label>
                    </div>
                </div>
                <h3>Cole aqui os dados</h3>
                <p id="instrucao-importacao" class="texto-secundario" style="margin-bottom: 1rem;">
                    Copie as colunas do seu banco (Data, Valor, Descri√ß√£o) e cole no campo abaixo.
                </p>
                <textarea id="input-dados-colados" placeholder="01/10/2025	-123,45	Compra no mercado..." style="height: 400px; width: 100%;"></textarea>
            </div>
            <footer class="painel-footer">
                <button id="btn-processar-importacao" class="btn btn-primario">Processar e Continuar</button>
            </footer>
        </div>
    </dialog>

    <dialog id="modal-gerenciar-contas">
        <div class="painel-container" style="height: auto; max-height: 90vh; width: 600px;">
            <header class="painel-header">
                <h2>Gerenciar Contas Fixas</h2>
                <button id="btn-fechar-modal-gerenciar" class="btn-acao">‚úñ</button>
            </header>
            <div class="painel-conteudo-tabs">
                <div id="lista-contas-fixas-gerenciar" class="lista-checklist" style="margin-bottom: 2rem;">
                </div>
                <hr style="border-color: var(--cor-borda); margin: 1.5rem 0;">
                <h3>Adicionar Nova Conta Fixa</h3>
                <form id="form-nova-conta-fixa" class="form-grid" style="grid-template-columns: 2fr 1fr; align-items: flex-end;">
                    <div class="form-campo">
                        <label for="input-conta-nome">Nome da Conta</label>
                        <input type="text" id="input-conta-nome" placeholder="Ex: Internet" required>
                    </div>
                    <div class="form-campo">
                        <label for="input-conta-valor">Valor (R$)</label>
                        <input type="text" id="input-conta-valor" placeholder="123,45" required>
                    </div>
                    <div class="form-botoes" style="grid-column: 1 / -1;">
                        <button type="submit" class="btn btn-primario">Adicionar Conta</button>
                    </div>
                </form>
            </div>
        </div>
    </dialog>

    <dialog id="modal-lancamento-manual">
        <div class="painel-container" style="height: auto; width: 500px;">
            <header class="painel-header">
                <h2>Lan√ßamento Manual</h2>
                <button id="btn-fechar-lancamento-manual" class="btn-acao">‚úñ</button>
            </header>
            <form id="form-lancamento-manual">
                <div class="painel-conteudo-tabs">
                    <div class="form-grid" style="grid-template-columns: 1fr;">
                        <div class="form-campo">
                            <label for="manual-descricao">Descri√ß√£o</label>
                            <input type="text" id="manual-descricao" required>
                        </div>
                        <div class="form-campo">
                            <label for="manual-valor">Valor (R$)</label>
                            <input type="text" id="manual-valor" placeholder="Use sinal de - para despesas" required>
                        </div>
                         <div class="form-campo">
                            <label for="manual-data">Data</label>
                            <input type="date" id="manual-data" required>
                        </div>
                        <div class="form-campo">
                            <label for="manual-conta">Conta / M√©todo</label>
                            <select id="manual-conta" required></select>
                        </div>
                        <div class="form-campo">
                            <label for="manual-categoria">Categoria</label>
                            <select id="manual-categoria" required></select>
                        </div>
                    </div>
                </div>
                <footer class="painel-footer">
                    <button type="submit" class="btn btn-primario">Salvar Lan√ßamento</button>
                </footer>
            </form>
        </div>
    </dialog>
    
    <div id="notificacao-container"></div>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-auth-compat.js"></script>
    <script src="firebase-config.js"></script>
    <script src="app.js"></script>
    <script src="estante.js"></script>
    <script src="adicionar.js"></script>
    <script src="dashboard.js"></script>
    <script src="desafio.js"></script>
</body>
</html>

